/** @license @fx/gt4-utils (c) 2020-2022 laogong5i0 License: Apache-2.0 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).fxGt4Utils={})}(this,(function(e){"use strict";function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){return"[object Arguments]"===Object.prototype.toString.call(e)}function r(e,t){if(null==e)return!1;return(e.keys()||[]).indexOf(t)>-1}const o=function(){let e=""+ +new Date,t=0;return()=>{const n=""+ +new Date;return n===e?t+=1:t=0,e=n,`${e}x${t}`}}();const i=e=>("0"+e).substr(-2);function u(e,t){return 0===t?e:u(t,e%t)}e.cutOff=function(e,t){return e.reduce((e,n,r)=>(e[r>t?1:0].push(n),e),[[],[]])},e.dataURItoBlob=function(e){const t=e.split(","),n=t[0].split(";"),r=n[0].replace("data:",""),o=n.filter(e=>"name"===e.split("=")[0]);let i;i=1!==o.length?"unknown":o[0].split("=")[1];const u=atob(t[1]),c=[];for(let e=0;e<u.length;e++)c.push(u.charCodeAt(e));return{blob:new window.Blob([new Uint8Array(c)],{type:r}),name:i}},e.deepEquals=function e(t,r,o=[],i=[]){if(t===r)return!0;if("function"==typeof t||"function"==typeof r)return!0;if("object"!=typeof t||"object"!=typeof r)return!1;if(null===t||null===r)return!1;if(t instanceof Date&&r instanceof Date)return t.getTime()===r.getTime();if(t instanceof RegExp&&r instanceof RegExp)return t.source===r.source&&t.global===r.global&&t.multiline===r.multiline&&t.lastIndex===r.lastIndex&&t.ignoreCase===r.ignoreCase;if(n(t)||n(r)){if(!n(t)||!n(r))return!1;const{slice:u}=Array.prototype;return e(u.call(t),u.call(r),o,i)}if(t.constructor!==r.constructor)return!1;const u=Object.keys(t),c=Object.keys(r);if(0===u.length&&0===c.length)return!0;if(u.length!==c.length)return!1;let l,s=o.length;for(;s--;)if(o[s]===t)return i[s]===r;o.push(t),i.push(r),u.sort(),c.sort();for(let e=u.length-1;e>=0;e--)if(u[e]!==c[e])return!1;for(let n=u.length-1;n>=0;n--)if(l=u[n],!e(t[l],r[l],o,i))return!1;return o.pop(),i.pop(),!0},e.fillObj=function(e,t){try{if("object"==typeof t)return e.fill(null).map(()=>JSON.parse(JSON.stringify(t)))}catch(e){}},e.filterObject=function(e,t){return Object.entries(e).reduce((e,[n,r])=>{const o=t(n,r);return void 0!==o&&(e[o]=r),e},{})},e.gcd=u,e.genId=o,e.hasKey=r,e.intersection=function(e,t){return e.filter(e=>t.includes(e))},e.isEmptyObject=function(e){if(!e)return!0;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},e.isObject=t,e.lowerCase=function(e){return void 0===e?e:String(e).replace(/^./,e=>e.toLocaleLowerCase())},e.mergeObjects=function e(n,o,i=!1){const u={...n};return t(o)?Object.keys(o).reduce((u,c)=>{const l=n?n[c]:{},s=o[c];return n&&r(n,c)&&t(s)?u[c]=e(l,s,i):i&&Array.isArray(l)&&Array.isArray(s)?u[c]=l.concat(s):u[c]=s,u},u):u},e.moveDownAt=function(e,t){if(t===e.length-1)return!1;const n=e[t],r=[e[t+1],n];return e.splice(t,2,...r)},e.moveUpAt=function(e,t){if(0===t)return!1;const n=[e[t],e[t-1]];return e.splice(t-1,2,...n)},e.openNewPage=function(e,t="_blank"){const n=document.createElement("a");n.style.display="none",n.target=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)},e.pad=function(e,t){let n=String(e);for(;n.length<t;)n="0"+n;return n},e.parseDateString=function(e,t=!0){if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};const n=new Date(e);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+e);return{year:n.getFullYear(),month:i(n.getMonth()+1),day:i(n.getDate()),hour:i(t?n.getHours():0),minute:i(t?n.getMinutes():0),second:i(t?n.getSeconds():0)}},e.removeAt=function(e,t){return!!e.splice(t,1).length},e.scm=function(e,t){return e*t/u(e,t)},e.toDateString=function({year:e,month:t,day:n,hour:r=0,minute:o=0,second:i=0},u=!0){const c=Date.UTC(e,t-1,n,r,o,i),l=new Date(c).toJSON();return u?l:l.slice(0,10)},e.union=function(e,t){return[...new Set([...e,...t])]},Object.defineProperty(e,"__esModule",{value:!0})}));
